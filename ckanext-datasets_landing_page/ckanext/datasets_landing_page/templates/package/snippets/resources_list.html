{# 
Renders a list of resources with icons and view links.

resources - A list of resources to render
pkg - A package object that the resources belong to.

Example:

  {% snippet "package/snippets/resources_list.html", pkg=pkg, resources=pkg.resources %}

#}

{# Need to fix the css for the resources list since we put them in a checkbox form.
  The reason why we do it here is that modifying the general css file will result in problems
  in other pages where the checkbox form is not present #}

<style>
  .resource-item .description {
    position: relative;
    left:78px;
  }

  .resource-item:hover {
    background:none
  }
</style>


<section id="dataset-resources" class="resources">
    <h3>{{ _('Data and Resources') }}</h3>
    {% block resource_list %}
      {% if resources %}
        <ul class="{% block resource_list_class %}resource-list{% endblock %}">
          {% block resource_list_inner %}
            {% set can_edit = h.check_access('package_update', {'id':pkg.id }) %}
            <form action="/multiple_download" method="POST">
  
              {% for resource in resources %}
                {#{ resource }#}
                  <input type="checkbox" name="{{Â resource.name }}" value="{{ resource.url }}">{% snippet 'package/snippets/resource_item.html', pkg=pkg, res=resource, can_edit=can_edit %}<br>
              {% endfor %}
              
                {#<input type="checkbox" name="first" value="pippo">I want pippo<br>
                <input type="checkbox" name="second" value="pluto">I want pluto<br>
                <input type="checkbox" name="third" value="paperino">I want paperino<br>#}
              
              
              <br><br>
              <input type="submit">
            </form>
          {% endblock %}
        </ul>
      {% else %}
        {% if h.check_access('resource_create', {'package_id': pkg['id']}) %}
            {% trans url=h.url_for(controller='package', action='new_resource', id=pkg.name) %}
              <p class="empty">This dataset has no data, <a href="{{ url }}">why not add some?</a></p>
            {% endtrans %}
        {% else %}
            <p class="empty">{{ _('This dataset has no data') }}</p>
        {% endif %}
      {% endif %}
    {% endblock %}
</section>
  