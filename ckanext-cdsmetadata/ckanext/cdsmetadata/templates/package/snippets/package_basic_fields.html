{% ckan_extends %}

{% block package_basic_fields_license %}
  {# We do not use the license mechanism of CKAN, due to the apparent lack of #}
  {# support for adding new licenses.  We therefore change the license input to our #}
  {# own system. #}
  <div class="form-group">
    {% set available_licenses = h.licenselist() %}
    {% set error = errors.cdslicense %} 
    <label class="control-label" for="field-cdslicense">{{ _("License") }}</label> 
    <div class="controls"> 
      <div class="row"> 
        <div class="col-md-6"> 
          <select id="field-cdslicense" name="cdslicense"> 
            {% set existing_cdslicense = data.get('cdslicense') %}
            {% for l in available_licenses %}
              <option value="{{ l.value }}" {% if existing_cdslicense == l.value %} selected="selected"{% endif %}> {{ l.text }} </option>
            {% endfor %}
          </select> 
          {% if error %}<span class="error-block">{{ error }}</span>{% endif %} 
        </div> 
        {# <div class="col-md-6">  #}
        {#   <span class="info-block info-inline">  #}
        {#     <i class="fa fa-info-circle"></i>  #}
        {#     {% trans %}  #}
        {#     License definitions and additional information can be found  #}
        {#     at <a href="http://opendefinition.org/licenses/">opendefinition.org</a>  #}
        {#     {% endtrans %}  #}
        {#   </span>  #}
        {# </div>  #}
      </div> 
    </div> 
  </div>


{% endblock %} 

{# {% block package_basic_fields_custom %} #}

{#   {{ form.checkbox('is_restricted', label=_('Is restricted'), id='field-is_restricted', #}
{#   placeholder=_('is restricted'), value=True, checked=data.is_restricted, error = errors.is_restricted, classes=['control-medium'])}} #}

{#   {% set date = data.embargo_date.date() if data.embargo_date %} #}
  
{#   {{ form.input('embargo_date', label=_('Embargo date'), id='field-embargo_date', type='date', placeholder=_('embargo date'), value=date, error = errors.embargo_date, classes=['control-medium'], attrs={})}}  #}
  
{# {% endblock %} #}

{% block package_metadata_fields_visibility %}
  {# we do not want to use the 'visibility' flag - all datasets should be flagged #}
  {# 'public' here, so that metadata will be visible to everyone #}
{% endblock %}
